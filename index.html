<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HBD! - Sky Blue Special</title>
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        /* --- TEMA UTAMA: BIRU LANGIT GRADASI --- */
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            /* Gradasi Biru Langit Ceria */
            background: linear-gradient(135deg, #87CEEB 0%, #B0E0E6 50%, #E0F7FA 100%); 
            font-family: 'Segoe UI', Arial, sans-serif;
            text-align: center;
            color: #2c3e50;
            transition: background 0.8s ease;
        }

        .container {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            max-width: 350px;
            width: 90%;
            border: 2px solid #fff;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #step1Container { display: block; }

        h1 { color: #0077b6; margin-bottom: 10px; font-size: 1.8rem; }
        p { line-height: 1.6; font-size: 1rem; color: #455a64; }

        /* Tombol dengan warna yang seru (Deep Sky Blue) */
        button {
            background: linear-gradient(45deg, #00b4d8, #48cae4);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 180, 216, 0.3);
            transition: 0.3s;
            margin-top: 15px;
        }
        button:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0, 180, 216, 0.5); }

        /* Loading Spinner khusus warna putih untuk background biru */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #0077b6;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Scrollable Note */
        #scrollableNote {
            max-height: 200px;
            overflow-y: auto;
            background: #f1faff;
            padding: 15px;
            border-radius: 12px;
            border: 1px dashed #00b4d8;
            text-align: left;
            margin: 20px 0;
            color: #333;
        }

        /* Zonk Styling */
        .zonk-shake { animation: shake 0.3s infinite; border: 4px solid #ff5252 !important; }
        @keyframes shake {
            0% { transform: translate(1px, 1px); }
            50% { transform: translate(-1px, -2px); }
            100% { transform: translate(1px, 1px); }
        }

        /* Pop-up Foto */
        #photoPopUp {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 119, 182, 0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        #photoPopUp img {
            max-width: 85%;
            max-height: 70%;
            border: 5px solid white;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>

    <audio id="clickSound" src="tap.mp3"></audio>
    <audio id="musicPlayer" src="monokrom.mp3" loop></audio>

    <div id="step1Container" class="container">
        <h1>Halo! ‚ú®</h1>
        <p>Ada sebuah pesan rahasia untukmu. Selesaikan 3 langkah mudah ini.</p>
        <button onclick="handleNext('step1Container', 'step2Container')">Langkah 1</button>
    </div>

    <div id="step2Container" class="container">
        <h1>Langkah 2</h1>
        <p>Memindai sidik jari digital...</p>
        <button onclick="handleNext('step2Container', 'step3Container', startStep3Loading)">Langkah 2</button>
    </div>

    <div id="step3Container" class="container">
        <h1>Langkah 3</h1>
        <div id="loader3" class="spinner"></div>
        <p id="text3">Mengunduh data rahasia...</p>
        <button id="finalBtn" style="display:none;" onclick="triggerZonkSequence()">Buka Kejutan!</button>
    </div>

    <div id="zonkLoadingContainer" class="container" style="background: #0077b6 !important; color: white !important;">
        <h1 style="color:white !important;">Memproses File...</h1>
        <div class="spinner" style="border-top-color: #fff;"></div>
        <p>Sistem sedang mendekripsi pesan, mohon tunggu sebentar...</p>
    </div>

    <div id="zonkErrorContainer" class="container zonk-shake">
        <h1 style="color:#ff5252 !important;">üö® SYSTEM ERROR üö®</h1>
        <p>Gagal memuat file kejutan (Error 404). File kemungkinan rusak!</p>
        <button style="background: #ff5252;" onclick="handleNext('zonkErrorContainer', 'secretMessage', showSurprise)">Perbaiki Sekarang</button>
    </div>

    <div id="secretMessage" class="container">
        <img src="dino.png" alt="Dino" style="width: 100px; margin-bottom: 10px;">
        
        <h1>Happy Birthday! üéÇ</h1>
        
        <div id="scrollableNote">
            <p><strong>Halo [Nama Mantan],</strong></p>
            <p>Selamat ulang tahun ya! Saya harap kamu menjalani hari yang luar biasa hari ini.</p>
            <p>Semoga di usia yang baru ini kamu semakin dekat dengan semua impian dan tujuanmu. Semoga kebahagiaan, kesehatan, dan kesuksesan selalu menyertai setiap langkahmu.</p>
            <p>Terima kasih untuk semua kenangan baik yang pernah ada. Saya selalu mendoakan yang terbaik untukmu ke depannya. Selamat menikmati harimu!</p>
            <p style="text-align: right;"><em>Dariku, [Nama Kamu]</em></p>
        </div>

        <button onclick="showPopUp()">üéÅ Buka Hadiah Spesial</button>
    </div>

    <div id="photoPopUp" onclick="this.style.display='none'">
        <img src="wk.png" alt="Hadiah Foto">
        <p style="color:white; margin-top:20px; font-weight:bold;">‚ú® Kejutan Terakhir Untukmu ‚ú®</p>
        <p style="color:white; font-size: 0.8rem;">(Klik di mana saja untuk tutup)</p>
    </div>

    <script>
        // Bunyi Klik
        function playClick() {
            const snd = document.getElementById('clickSound');
            snd.currentTime = 0;
            snd.play().catch(e => console.log("Sound disabled by browser"));
        }

        // Transisi Step
        function handleNext(curr, next, callback) {
            playClick();
            document.getElementById(curr).style.display = 'none';
            document.getElementById(next).style.display = 'block';
            if (callback) callback();
        }

        // Loading di Step 3
        function startStep3Loading() {
            setTimeout(() => {
                document.getElementById('loader3').style.display = 'none';
                document.getElementById('text3').innerText = 'Data Terverifikasi!';
                document.getElementById('finalBtn').style.display = 'inline-block';
            }, 2500);
        }

        // Alur Zonk dengan Background Biru Tua
        function triggerZonkSequence() {
            playClick();
            document.body.style.background = "#023e8a"; // Berubah ke biru tua saat loading zonk
            document.getElementById('step3Container').style.display = 'none';
            document.getElementById('zonkLoadingContainer').style.display = 'block';

            setTimeout(() => {
                document.body.style.background = "#ffebee"; // Berubah ke merah soft saat error
                document.getElementById('zonkLoadingContainer').style.display = 'none';
                document.getElementById('zonkErrorContainer').style.display = 'block';
            }, 3000);
        }

        // Menampilkan Kejutan Asli
        function showSurprise() {
            // Kembali ke Biru Langit
            document.body.style.background = "linear-gradient(135deg, #87CEEB 0%, #B0E0E6 50%, #E0F7FA 100%)";
            
            // Putar Musik
            const music = document.getElementById('musicPlayer');
            music.play();

            // Efek Confetti
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#00b4d8', '#90e0ef', '#ffffff']
            });
        }

        // Menampilkan Pop-up wk.png
        function showPopUp() {
            playClick();
            document.getElementById('photoPopUp').style.display = 'flex';
        }
    </script>
</body>
</html>
